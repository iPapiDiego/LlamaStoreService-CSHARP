@model LlamaStoreVista.Models.Admin.AdminViewModel

@{
    ViewData["Title"] = "VistaAdmin";
    Layout = null;
}

<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LlamaStore - Panel de Administración</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/admin/admin.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <script src="/js/admin.js"></script>
</head>

<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <!--<img src="img/llama-logo.png" alt="LlamaStore">-->
                <h2>LlamaStore</h2>
            </div>
            <nav class="admin-nav">
                <ul>
                    <li class="active" data-section="dashboard"><i class="fas fa-tachometer-alt"></i> Dashboard</li>
                    <li data-section="productos"><i class="fas fa-mobile-alt"></i> Productos</li>
                    <li data-section="accesorios"><i class="fas fa-headphones"></i> Accesorios</li>
                    <li data-section="ventas"><i class="fas fa-receipt"></i> Ventas</li>
                    <li data-section="usuarios"><i class="fas fa-users"></i> Usuarios</li>
                    <li data-section="reportes"><i class="fas fa-chart-bar"></i> Reportes</li>
                </ul>
            </nav>
            <div class="user-panel">
                <!--<img src="img/admin-avatar.jpg" alt="Admin">-->
                <div class="user-info">
                    <span class="username">Admin</span>
                    <span class="role">Administrador</span>
                </div>
                <button class="logout-btn"><i class="fas fa-sign-out-alt"></i></button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="admin-header">
                <h1 id="section-title">Dashboard</h1>
                <div class="header-actions">
                    <div class="search-box">
                        <input type="text" placeholder="Buscar...">
                        <i class="fas fa-search"></i>
                    </div>
                    <button class="notification-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </button>
                </div>
            </header>

            <!-- Dashboard Section -->
            <section class="content-section active" id="dashboard-section">
                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-icon bg-blue">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Ventas Hoy</h3>
                            <p class="stat-value">24</p>
                            <p class="stat-change up">+12%</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon bg-green">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Productos</h3>
                            <p class="stat-value">156</p>
                            <p class="stat-change down">-5%</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon bg-orange">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Usuarios</h3>
                            <p class="stat-value">342</p>
                            <p class="stat-change up">+8%</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon bg-purple">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Ingresos</h3>
                            <p class="stat-value">$12,450</p>
                            <p class="stat-change up">+23%</p>
                        </div>
                    </div>
                </div>

                <div class="charts-container">
                    <div class="chart-card">
                        <h3>Ventas Mensuales</h3>
                        <canvas id="sales-chart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>Productos Más Vendidos</h3>
                        <canvas id="top-products-chart"></canvas>
                    </div>
                </div>

                <div class="recent-activity">
                    <h3>Actividad Reciente</h3>
                    <div class="activity-list">

                        @Html.Partial("Partials/_ListaActividad", Model)

                        
                    </div>
                </div>
            </section>

            <!-- Productos Section -->
            <section class="content-section" id="productos-section">
                <div class="section-header">
                    <h2>Gestión de Productos</h2>
                    <button class="btn btn-primary" id="add-product-btn">
                        <i class="fas fa-plus"></i> Agregar Producto
                    </button>
                </div>

                <div class="table-container">
                    @Html.Partial("Partials/_ListaProductos", Model)
                </div>

                <!-- Product Modal -->
                <div class="modal" id="product-modal">
                    <div class="modal-content">
                        <span class="close-modal">&times;</span>
                        <h3 id="modal-product-title">Agregar Nuevo Producto</h3>
                       
                        @Html.Partial("Partials/_CrearProducto", Model)

                    </div>
                </div>
            </section>

            <!-- Accesorios Section -->
            <section class="content-section" id="accesorios-section">
                <div class="section-header">
                    <h2>Gestión de Accesorios</h2>
                    <button class="btn btn-primary" id="add-accessory-btn">
                        <i class="fas fa-plus"></i> Agregar Accesorio
                    </button>
                </div>

                <div class="table-container">
                    @Html.Partial("Partials/_ListaAccesorios", Model)
                </div>

                <!-- Accessory Modal -->
                <div class="modal" id="accessory-modal">
                    <div class="modal-content">
                        <span class="close-modal">&times;</span>
                        <h3 id="modal-accessory-title">Agregar Nuevo Accesorio</h3>
                        <form id="accessory-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="accessory-type">Tipo</label>
                                    <select id="accessory-type" name="accessory-type" required>
                                        <option value="">Seleccionar tipo</option>
                                        <option value="1">Auriculares</option>
                                        <option value="2">Cargador</option>
                                        <option value="3">Funda</option>
                                        <option value="4">Protector de Pantalla</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="accessory-model">Modelo</label>
                                    <select id="accessory-model" name="accessory-model" required>
                                        <option value="">Seleccionar modelo</option>
                                        <option value="1">AirPods Pro</option>
                                        <option value="2">Fast Charge 25W</option>
                                        <option value="3">Protector S22 Ultra</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="accessory-brand">Marca</label>
                                    <select id="accessory-brand" name="accessory-brand" required>
                                        <option value="">Seleccionar marca</option>
                                        <option value="1">Apple</option>
                                        <option value="2">Samsung</option>
                                        <option value="3">Spigen</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="accessory-price">Precio</label>
                                    <input type="number" id="accessory-price" name="accessory-price" step="0.01"
                                           required>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="accessory-offer">Precio Oferta</label>
                                    <input type="number" id="accessory-offer" name="accessory-offer" step="0.01">
                                </div>
                                <div class="form-group">
                                    <label for="accessory-stock">Stock</label>
                                    <input type="number" id="accessory-stock" name="accessory-stock" required>
                                </div>
                            </div>

                            <div class="form-group full-width">
                                <label for="accessory-compatible">Compatible con</label>
                                <textarea id="accessory-compatible" name="accessory-compatible" rows="3"></textarea>
                            </div>

                            <div class="form-group full-width">
                                <label for="accessory-desc">Descripción</label>
                                <textarea id="accessory-desc" name="accessory-desc" rows="4"></textarea>
                            </div>

                            <div class="form-group full-width">
                                <label for="accessory-image">Imagen URL</label>
                                <input type="text" id="accessory-image" name="accessory-image">
                            </div>

                            <div class="form-actions">
                                <button type="button" class="btn btn-secondary" id="cancel-accessory">Cancelar</button>
                                <button type="submit" class="btn btn-primary">Guardar Accesorio</button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>

            <!-- Ventas Section -->
            <section class="content-section" id="ventas-section">
                <div class="section-header">
                    <h2>Historial de Ventas</h2>
                    <div class="filter-options">
                        <select id="sales-filter">
                            <option value="all">Todas las ventas</option>
                            <option value="today">Hoy</option>
                            <option value="week">Esta semana</option>
                            <option value="month">Este mes</option>
                        </select>
                    </div>
                </div>

                <div class="table-container">
                    @Html.Partial("Partials/_ListaBoletas", Model)
                    
                </div>

                <!-- Sale Detail Modal -->
                <div class="modal" id="sale-modal">
                    <div class="modal-content wide-modal">
                        <span class="close-modal">&times;</span>
                        <h3>Detalle de Venta <span id="sale-number">BOL-00125</span></h3>

                        <div class="sale-details">
                            <div class="sale-info">
                                <div class="info-row">
                                    <span class="info-label">Fecha:</span>
                                    <span class="info-value">15/06/2023 14:30</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">Cliente:</span>
                                    <span class="info-value">Juan Pérez (juan.perez@email.com)</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">Método de Pago:</span>
                                    <span class="info-value">Tarjeta de Crédito ****4242</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">Dirección de Envío:</span>
                                    <span class="info-value">Av. Lima 123, Lima, Perú</span>
                                </div>
                            </div>

                            <div class="sale-totals">
                                <div class="total-row">
                                    <span class="total-label">Subtotal:</span>
                                    <span class="total-value">$1,059.32</span>
                                </div>
                                <div class="total-row">
                                    <span class="total-label">IGV (18%):</span>
                                    <span class="total-value">$190.68</span>
                                </div>
                                <div class="total-row grand-total">
                                    <span class="total-label">Total:</span>
                                    <span class="total-value">$1,250.00</span>
                                </div>
                            </div>
                        </div>

                        <div class="sale-products">
                            <h4>Productos</h4>
                            <table class="products-table">
                                <thead>
                                    <tr>
                                        <th>Producto</th>
                                        <th>Tipo</th>
                                        <th>Precio Unit.</th>
                                        <th>Cantidad</th>
                                        <th>Descuento</th>
                                        <th>Total</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>iPhone 13 Pro</td>
                                        <td>Celular</td>
                                        <td>$1,099.00</td>
                                        <td>1</td>
                                        <td>$0.00</td>
                                        <td>$1,099.00</td>
                                    </tr>
                                    <tr>
                                        <td>Funda iPhone 13</td>
                                        <td>Accesorio</td>
                                        <td>$39.99</td>
                                        <td>1</td>
                                        <td>$10.00</td>
                                        <td>$29.99</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="modal-actions">
                            <button class="btn btn-secondary close-sale-modal">Cerrar</button>
                            <button class="btn btn-primary"><i class="fas fa-print"></i> Imprimir Boleta</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Usuarios Section -->
            <section class="content-section" id="usuarios-section">
                <div class="section-header">
                    <h2>Gestión de Usuarios</h2>
                    <button class="btn btn-primary" id="add-user-btn">
                        <i class="fas fa-plus"></i> Agregar Usuario
                    </button>
                </div>

                <div class="table-container">
                    @Html.Partial("Partials/_ListaUsuarios", Model)
                </div>

                <!-- User Modal -->
                <div class="modal" id="user-modal">
                    <div class="modal-content">
                        <span class="close-modal">&times;</span>
                        <h3 id="modal-user-title">Agregar Nuevo Usuario</h3>
                        <form  id="user-form">
                            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="user-name">Nombre</label>
                                    <input  type="text" id="user-name" name="user-name" required>
                                </div>
                                <div class="form-group">
                                    <label for="user-lastname">Apellido</label>
                                    <input type="text" id="user-lastname" name="user-lastname" required>
                                </div>
                            </div>

                            <div class="form-group full-width">
                                <label for="user-email">Correo Electrónico</label>
                                <input type="email" id="user-email" name="user-email" required>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="user-password">Contraseña</label>
                                    <input type="password" id="user-password" name="user-password" required>
                                </div>
                                <div class="form-group">
                                    <label for="user-role">Rol</label>
                                    <select id="user-role" name="user-role" required>
                                        <option value="">Seleccionar rol</option>
                                        <option value="1">Administrador</option>
                                        <option value="2">Cliente</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="user-birthdate">Fecha Nacimiento</label>
                                    <input type="date" id="user-birthdate" name="user-birthdate" required>
                                </div>
                                <div class="form-group">
                                    <label for="user-status">Estado</label>
                                    <select id="user-status" name="user-status">
                                        <option value="1">Activo</option>
                                        <option value="2">Inactivo</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-actions">
                                <button type="button" class="btn btn-secondary" id="cancel-user">Cancelar</button>
                                <button type="submit" class="btn btn-primary">Guardar Usuario</button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>

            <!-- Reportes Section -->
            <section class="content-section" id="reportes-section">
                <div class="section-header">
                    <h2>Reportes y Estadísticas</h2>
                    <div class="report-actions">
                        <button class="btn btn-secondary">
                            <i class="fas fa-download"></i> Exportar
                        </button>
                        <select id="report-period">
                            <option value="week">Última semana</option>
                            <option value="month" selected>Último mes</option>
                            <option value="quarter">Último trimestre</option>
                            <option value="year">Último año</option>
                        </select>
                    </div>
                </div>

                <div class="report-filters">
                    <div class="filter-group">
                        <label for="report-type">Tipo de Reporte:</label>
                        <select id="report-type">
                            <option value="sales">Ventas</option>
                            <option value="products">Productos</option>
                            <option value="users">Usuarios</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="report-start">Desde:</label>
                        <input type="date" id="report-start" value="2023-05-01">
                    </div>
                    <div class="filter-group">
                        <label for="report-end">Hasta:</label>
                        <input type="date" id="report-end" value="2023-06-15">
                    </div>
                    <button class="btn btn-primary" id="generate-report">
                        <i class="fas fa-chart-line"></i> Generar Reporte
                    </button>
                </div>

                <div class="report-container">
                    <div class="report-chart">
                        <canvas id="report-main-chart"></canvas>
                    </div>

                    <div class="report-summary">
                        <div class="summary-card">
                            <h4>Ventas Totales</h4>
                            <p class="summary-value">$24,580.00</p>
                            <p class="summary-change up">+15% vs período anterior</p>
                        </div>
                        <div class="summary-card">
                            <h4>Productos Vendidos</h4>
                            <p class="summary-value">142</p>
                            <p class="summary-change up">+8% vs período anterior</p>
                        </div>
                        <div class="summary-card">
                            <h4>Clientes Nuevos</h4>
                            <p class="summary-value">28</p>
                            <p class="summary-change down">-5% vs período anterior</p>
                        </div>
                    </div>

                    <div class="report-table">
                        <h4>Detalle de Ventas</h4>
                        @Html.Partial("Partials/_ListaVentas", Model)
                        
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <script src="js/admin.js"></script>
</body>

</html>
